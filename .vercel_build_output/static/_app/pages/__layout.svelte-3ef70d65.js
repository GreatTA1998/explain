var $=Object.defineProperty;var y=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var k=(i,e,t)=>e in i?$(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,v=(i,e)=>{for(var t in e||(e={}))A.call(e,t)&&k(i,t,e[t]);if(y)for(var t of y(e))F.call(e,t)&&k(i,t,e[t]);return i};import{D as O,S as x,i as B,s as N,l as w,f as C,u as p,w as Q,x as m,d,E as z,A as M,r as j,F as G,G as K,H,I as T,J as V,K as Y,e as L,t as P,c as X,a as q,g as J,L as f,M as U,N as _,O as D,P as R,Q as h,R as Z,_ as W,V as ee}from"../chunks/vendor-bc7dd356.js";import{h as S,u as b,g as te}from"../chunks/navigation-3ddb30f2.js";import"../chunks/singletons-12a22614.js";function se(){return O({apiKey:"AIzaSyB7XsbhYEd_4DQigc_hfnmdpcwlvzugPOw",databaseURL:"https://feynman-mvp.firebaseio.com",authDomain:"feynman-mvp.firebaseapp.com",projectId:"feynman-mvp",storageBucket:"feynman-mvp.appspot.com",messagingSenderId:"148720897081",appId:"1:148720897081:web:fdf5c605dcc74b56",measurementId:"G-DR4M7QGV7Z"})}function ae(i){let e;const t=i[2].default,s=H(t,i,i[1],null);return{c(){s&&s.c()},l(a){s&&s.l(a)},m(a,l){s&&s.m(a,l),e=!0},p(a,l){s&&s.p&&(!e||l&2)&&T(s,t,a,a[1],e?Y(t,a[1],l,null):V(a[1]),null)},i(a){e||(m(s,a),e=!0)},o(a){p(s,a),e=!1},d(a){s&&s.d(a)}}}function ne(i){let e,t;return{c(){e=L("h4"),t=P("Fetching your info..."),this.h()},l(s){e=X(s,"H4",{style:!0});var a=q(e);t=J(a,"Fetching your info..."),a.forEach(d),this.h()},h(){f(e,"margin-left","16px"),f(e,"font-family","Roboto, sans-serif"),f(e,"opacity","70%"),f(e,"font-weight","400")},m(s,a){C(s,e,a),U(e,t)},p:_,i:_,o:_,d(s){s&&d(e)}}}function oe(i){let e,t,s,a;const l=[ne,ae],n=[];function u(o,c){return o[0]?1:0}return e=u(i),t=n[e]=l[e](i),{c(){t.c(),s=w()},l(o){t.l(o),s=w()},m(o,c){n[e].m(o,c),C(o,s,c),a=!0},p(o,[c]){let r=e;e=u(o),e===r?n[e].p(o,c):(j(),p(n[r],1,1,()=>{n[r]=null}),Q(),t=n[e],t?t.p(o,c):(t=n[e]=l[e](o),t.c()),m(t,1),t.m(s.parentNode,s))},i(o){a||(m(t),a=!0)},o(o){p(t),a=!1},d(o){n[e].d(o),o&&d(s)}}}function ie(i,e,t){let s;z(i,S,n=>t(0,s=n));let{$$slots:a={},$$scope:l}=e;return M(async()=>{se(),G(K(),async n=>{if(n){b.set({phoneNumber:n.phoneNumber,uid:n.uid,pencilColors:[]});const u="O00mSbBEYQxTnv3cKkbe",o=D(R(),"users/"+n.uid);let c=await h(o);if(!c.exists()){const g=D(R(),"metadata/78tDSRCiMHGnf8zcXkQt"),I=await h(g),E={id:u,name:"8.01",description:"Classical Mechanics"};await Z(o,{name:`Beaver #${I.data().numOfUsers}`,uid:n.uid,phoneNumber:n.phoneNumber,enrolledClasses:[E],mostRecentClassID:u,pencilColors:["white","#F69637","#A9F8BD","#6EE2EA"],willReceiveText:!0}),W(g,{numOfUsers:ee(1)}),c=await h(o)}b.set(v({id:c.id},c.data())),console.log("redirect");const r="O00mSbBEYQxTnv3cKkbe";te(`/${r}/${r}`)}else b.set({});S.set(!0)})}),i.$$set=n=>{"$$scope"in n&&t(1,l=n.$$scope)},[s,l,a]}class fe extends x{constructor(e){super();B(this,e,ie,oe,N,{})}}export{fe as default};
