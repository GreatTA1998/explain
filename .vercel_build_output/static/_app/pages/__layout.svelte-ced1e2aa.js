var $=Object.defineProperty;var y=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var k=(i,e,t)=>e in i?$(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,v=(i,e)=>{for(var t in e||(e={}))A.call(e,t)&&k(i,t,e[t]);if(y)for(var t of y(e))F.call(e,t)&&k(i,t,e[t]);return i};import{D as O,S as x,i as B,s as N,l as w,f as C,u as p,w as Q,x as m,d,E as z,A as M,r as j,F as G,G as K,H,I as T,J as V,K as Y,e as L,t as P,c as X,a as q,g as J,L as f,M as U,N as _,O as D,P as R,Q as h,R as Z,_ as W,V as ee}from"../chunks/vendor-dda63b98.js";import{h as S,u as b,g as te}from"../chunks/navigation-85f32556.js";import"../chunks/singletons-12a22614.js";function ae(){return O({apiKey:"AIzaSyB7XsbhYEd_4DQigc_hfnmdpcwlvzugPOw",databaseURL:"https://feynman-mvp.firebaseio.com",authDomain:"feynman-mvp.firebaseapp.com",projectId:"feynman-mvp",storageBucket:"feynman-mvp.appspot.com",messagingSenderId:"148720897081",appId:"1:148720897081:web:fdf5c605dcc74b56",measurementId:"G-DR4M7QGV7Z"})}function se(i){let e;const t=i[2].default,a=H(t,i,i[1],null);return{c(){a&&a.c()},l(s){a&&a.l(s)},m(s,c){a&&a.m(s,c),e=!0},p(s,c){a&&a.p&&(!e||c&2)&&T(a,t,s,s[1],e?Y(t,s[1],c,null):V(s[1]),null)},i(s){e||(m(a,s),e=!0)},o(s){p(a,s),e=!1},d(s){a&&a.d(s)}}}function ne(i){let e,t;return{c(){e=L("h4"),t=P("Fetching your info..."),this.h()},l(a){e=X(a,"H4",{style:!0});var s=q(e);t=J(s,"Fetching your info..."),s.forEach(d),this.h()},h(){f(e,"margin-left","16px"),f(e,"font-family","Roboto, sans-serif"),f(e,"opacity","70%"),f(e,"font-weight","400")},m(a,s){C(a,e,s),U(e,t)},p:_,i:_,o:_,d(a){a&&d(e)}}}function oe(i){let e,t,a,s;const c=[ne,se],n=[];function u(o,l){return o[0]?1:0}return e=u(i),t=n[e]=c[e](i),{c(){t.c(),a=w()},l(o){t.l(o),a=w()},m(o,l){n[e].m(o,l),C(o,a,l),s=!0},p(o,[l]){let r=e;e=u(o),e===r?n[e].p(o,l):(j(),p(n[r],1,1,()=>{n[r]=null}),Q(),t=n[e],t?t.p(o,l):(t=n[e]=c[e](o),t.c()),m(t,1),t.m(a.parentNode,a))},i(o){s||(m(t),s=!0)},o(o){p(t),s=!1},d(o){n[e].d(o),o&&d(a)}}}function ie(i,e,t){let a;z(i,S,n=>t(0,a=n));let{$$slots:s={},$$scope:c}=e;return M(async()=>{ae(),G(K(),async n=>{if(n){b.set({phoneNumber:n.phoneNumber,uid:n.uid,pencilColors:[]});const u="O00mSbBEYQxTnv3cKkbe",o=D(R(),"users/"+n.uid);let l=await h(o);if(!l.exists()){const g=D(R(),"metadata/78tDSRCiMHGnf8zcXkQt"),I=await h(g),E={id:u,name:"8.01",description:"Classical Mechanics"};await Z(o,{name:`Beaver #${I.data().numOfUsers}`,uid:n.uid,phoneNumber:n.phoneNumber,enrolledClasses:[E],mostRecentClassID:u,pencilColors:["white","#F69637","#A9F8BD","#6EE2EA"],willReceiveText:!0}),W(g,{numOfUsers:ee(1)}),l=await h(o)}b.set(v({id:l.id},l.data())),console.log("redirect");const r="O00mSbBEYQxTnv3cKkbe";te(`/${r}/${r}`)}else b.set({});S.set(!0)})}),i.$$set=n=>{"$$scope"in n&&t(1,c=n.$$scope)},[a,c,s]}class fe extends x{constructor(e){super();B(this,e,ie,oe,N,{})}}export{fe as default};
