var Me=Object.defineProperty;var Y=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable;var X=(a,e,s)=>e in a?Me(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,K=(a,e)=>{for(var s in e||(e={}))Re.call(e,s)&&X(a,s,e[s]);if(Y)for(var s of Y(e))Ce.call(e,s)&&X(a,s,e[s]);return a};import{S as O,i as T,s as B,a1 as Ve,e as D,t as q,k as N,j as I,c as k,a as b,g as H,d as _,n as L,m as w,K as R,f as h,L as C,o as y,x as p,u as g,v as E,Y as je,a2 as Z,l as V,r as x,w as ee,a3 as Ne,a4 as Le,M as G,a5 as ze,a6 as Ae,b as v,D as Q,a7 as Fe,a8 as Ue,a9 as qe,G as te,H as se,I as le,J as ne,aa as re,A as ae,ab as oe,ac as ie,ad as He,ae as Se,N as Oe,O as W,Q as fe,af as Te,U as ce,ag as ue,ah as Be,ai as _e,aj as me,ak as P,al as J,am as Ge,h as de}from"../../chunks/vendor-c19200ff.js";import{u as he,r as S,c as Pe,a as Je}from"../../chunks/store-4e284ae9.js";import{g as Ke,p as Qe,c as We}from"../../chunks/canvas-ec00c90d.js";import{g as Ye}from"../../chunks/navigation-51f4a605.js";import"../../chunks/singletons-12a22614.js";function $e(a,e,s){const t=a.slice();return t[3]=e[s],t}function Xe(a){let e=a[3].name+"",s,t;return{c(){s=q(e),t=N()},l(l){s=H(l,e),t=L(l)},m(l,o){h(l,s,o),h(l,t,o)},p:G,d(l){l&&_(s),l&&_(t)}}}function pe(a){let e,s;return e=new Le({props:{$$slots:{default:[Xe]},$$scope:{ctx:a}}}),e.$on("SMUI:action",tt),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){y(e,t,l),s=!0},p(t,l){const o={};l&64&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function Ze(a){let e,s,t=a[1],l=[];for(let n=0;n<t.length;n+=1)l[n]=pe($e(a,t,n));const o=n=>g(l[n],1,1,()=>{l[n]=null});return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=V()},l(n){for(let r=0;r<l.length;r+=1)l[r].l(n);e=V()},m(n,r){for(let i=0;i<l.length;i+=1)l[i].m(n,r);h(n,e,r),s=!0},p(n,r){if(r&2){t=n[1];let i;for(i=0;i<t.length;i+=1){const f=$e(n,t,i);l[i]?(l[i].p(f,r),p(l[i],1)):(l[i]=pe(f),l[i].c(),p(l[i],1),l[i].m(e.parentNode,e))}for(x(),i=t.length;i<l.length;i+=1)o(i);ee()}},i(n){if(!s){for(let r=0;r<t.length;r+=1)p(l[r]);s=!0}},o(n){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)g(l[r]);s=!1},d(n){Ne(l,n),n&&_(e)}}}function xe(a){let e,s;return e=new Z({props:{$$slots:{default:[Ze]},$$scope:{ctx:a}}}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){y(e,t,l),s=!0},p(t,l){const o={};l&64&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function et(a){let e,s,t,l,o,n={style:"left: 100px; top: 50px; width: 300px",$$slots:{default:[xe]},$$scope:{ctx:a}};return l=new Ve({props:n}),a[2](l),{c(){e=D("h1"),s=q("6.036"),t=N(),I(l.$$.fragment),this.h()},l(r){e=k(r,"H1",{style:!0});var i=b(e);s=H(i,"6.036"),i.forEach(_),t=L(r),w(l.$$.fragment,r),this.h()},h(){R(e,"font-family","Roboto, sans-serif"),R(e,"font-weight","400"),R(e,"margin-left","8px")},m(r,i){h(r,e,i),C(e,s),h(r,t,i),y(l,r,i),o=!0},p(r,[i]){const f={};i&64&&(f.$$scope={dirty:i,ctx:r}),l.$set(f)},i(r){o||(p(l.$$.fragment,r),o=!0)},o(r){g(l.$$.fragment,r),o=!1},d(r){r&&_(e),r&&_(t),a[2](null),E(l,r)}}}const tt=()=>{};function st(a,e,s){let t=[{name:"6.006"},{name:"6.036"}],l;function o(n){je[n?"unshift":"push"](()=>{l=n,s(0,l)})}return[l,t,o]}class lt extends O{constructor(e){super();T(this,e,st,et,B,{})}}function nt(a){let e;return{c(){e=D("div"),this.h()},l(s){e=k(s,"DIV",{id:!0,class:!0});var t=b(e);t.forEach(_),this.h()},h(){v(e,"id","sign-up-area"),v(e,"class","svelte-f4hgt4")},m(s,t){h(s,e,t)},i:G,o:G,d(s){s&&_(e)}}}function rt(a){let e,s;return e=new lt({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){y(e,t,l),s=!0},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function at(a){let e,s,t,l,o,n,r;const i=[rt,nt],f=[];function c(u,m){return u[0]?0:1}return o=c(a),n=f[o]=i[o](a),{c(){e=D("div"),s=D("img"),l=N(),n.c(),this.h()},l(u){e=k(u,"DIV",{style:!0,class:!0});var m=b(e);s=k(m,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),l=L(m),n.l(m),m.forEach(_),this.h()},h(){qe(s.src,t="/logo.png")||v(s,"src",t),v(s,"width","55"),v(s,"height","50"),v(s,"alt","web-logo"),v(s,"class","svelte-f4hgt4"),R(e,"display","flex"),R(e,"align-items","center"),v(e,"class","svelte-f4hgt4")},m(u,m){h(u,e,m),C(e,s),C(e,l),f[o].m(e,null),r=!0},p(u,m){let d=o;o=c(u),o!==d&&(x(),g(f[d],1,1,()=>{f[d]=null}),ee(),n=f[o],n||(n=f[o]=i[o](u),n.c()),p(n,1),n.m(e,null))},i(u){r||(p(n),r=!0)},o(u){g(n),r=!1},d(u){u&&_(e),f[o].d()}}}function ot(a){let e;const s=a[1].default,t=te(s,a,a[2],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&4)&&se(t,s,l,l[2],e?ne(s,l[2],o,null):le(l[2]),null)},i(l){e||(p(t,l),e=!0)},o(l){g(t,l),e=!1},d(l){t&&t.d(l)}}}function it(a){let e,s,t,l,o;return s=new Ue({props:{padded:!0,style:"padding-top: 0; padding-bottom: 0",$$slots:{default:[at]},$$scope:{ctx:a}}}),l=new Z({props:{$$slots:{default:[ot]},$$scope:{ctx:a}}}),{c(){e=D("div"),I(s.$$.fragment),t=N(),I(l.$$.fragment),this.h()},l(n){e=k(n,"DIV",{class:!0});var r=b(e);w(s.$$.fragment,r),r.forEach(_),t=L(n),w(l.$$.fragment,n),this.h()},h(){v(e,"class","card-container svelte-f4hgt4")},m(n,r){h(n,e,r),y(s,e,null),h(n,t,r),y(l,n,r),o=!0},p(n,r){const i={};r&5&&(i.$$scope={dirty:r,ctx:n}),s.$set(i);const f={};r&4&&(f.$$scope={dirty:r,ctx:n}),l.$set(f)},i(n){o||(p(s.$$.fragment,n),p(l.$$.fragment,n),o=!0)},o(n){g(s.$$.fragment,n),g(l.$$.fragment,n),o=!1},d(n){n&&_(e),E(s),n&&_(t),E(l,n)}}}function ft(a){let e,s;return e=new Fe({props:{$$slots:{default:[it]},$$scope:{ctx:a}}}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){y(e,t,l),s=!0},p(t,l){const o={};l&5&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function ct(a){let e,s;return{c(){e=D("main"),s=D("div"),this.h()},l(t){e=k(t,"MAIN",{class:!0,style:!0});var l=b(e);s=k(l,"DIV",{id:!0,style:!0,class:!0});var o=b(s);o.forEach(_),l.forEach(_),this.h()},h(){v(s,"id","main-content"),R(s,"height","100vh"),v(s,"class","svelte-f4hgt4"),v(e,"class","main-content svelte-f4hgt4"),R(e,"padding","0")},m(t,l){h(t,e,l),C(e,s)},d(t){t&&_(e)}}}function ut(a){let e,s,t,l,o;return s=new ze({props:{style:"overflow-y: scroll; height: 100%;",$$slots:{default:[ft]},$$scope:{ctx:a}}}),l=new Ae({props:{class:"app-content",$$slots:{default:[ct]},$$scope:{ctx:a}}}),{c(){e=D("div"),I(s.$$.fragment),t=N(),I(l.$$.fragment),this.h()},l(n){e=k(n,"DIV",{class:!0});var r=b(e);w(s.$$.fragment,r),t=L(r),w(l.$$.fragment,r),r.forEach(_),this.h()},h(){v(e,"class","drawer-container svelte-f4hgt4")},m(n,r){h(n,e,r),y(s,e,null),C(e,t),y(l,e,null),o=!0},p(n,[r]){const i={};r&5&&(i.$$scope={dirty:r,ctx:n}),s.$set(i);const f={};r&4&&(f.$$scope={dirty:r,ctx:n}),l.$set(f)},i(n){o||(p(s.$$.fragment,n),p(l.$$.fragment,n),o=!0)},o(n){g(s.$$.fragment,n),g(l.$$.fragment,n),o=!1},d(n){n&&_(e),E(s),E(l)}}}function _t(a,e,s){let t;Q(a,he,n=>s(0,t=n));let{$$slots:l={},$$scope:o}=e;return a.$$set=n=>{"$$scope"in n&&s(2,o=n.$$scope)},[t,l,o]}class mt extends O{constructor(e){super();T(this,e,_t,ut,B,{})}}function dt(a,e,s){let t;Q(a,he,d=>s(4,t=d));let{classID:l}=e,{roomID:o}=e,n,r,i,f,c,u,m=`Beaver #${Math.floor(Math.random()*(999-100+1)+100)}`;return re(()=>{c&&c(),u&&Te(r),f&&f.cancel()}),ae(()=>{i=oe(ie(),".info/connected"),c=He(i,async d=>{if(d.val()===!0){const j=Ke();n=oe(ie(),`/class/${l}/room/${o}/participants/${j}`),f=Se(n),f.set({hasDisconnected:!0,userUID:t.uid}),s(2,r=Oe(W(),`classes/${l}/participants/${j}`)),fe(r,{uid:t.uid,currentRoomID:o,name:m}),s(3,u=!0)}})}),a.$$set=d=>{"classID"in d&&s(0,l=d.classID),"roomID"in d&&s(1,o=d.roomID)},a.$$.update=()=>{a.$$.dirty&30&&u&&fe(r,{uid:t.uid,currentRoomID:o,name:m})},[l,o,r,u,t]}class ht extends O{constructor(e){super();T(this,e,dt,null,B,{classID:0,roomID:1})}}function ge(a,e,s){const t=a.slice();return t[12]=e[s],t}function ve(a,e,s){const t=a.slice();return t[15]=e[s],t}function De(a){let e,s=[],t=new Map,l,o,n,r=a[2];const i=f=>"room"+f[12].id;for(let f=0;f<r.length;f+=1){let c=ge(a,r,f),u=i(c);t.set(u,s[f]=we(u,c))}return{c(){e=D("div");for(let f=0;f<s.length;f+=1)s[f].c()},l(f){e=k(f,"DIV",{});var c=b(e);for(let u=0;u<s.length;u+=1)s[u].l(c);c.forEach(_)},m(f,c){h(f,e,c);for(let u=0;u<s.length;u+=1)s[u].m(e,null);o||(n=Be(l=Qe.call(null,e,"side-drawer-list")),o=!0)},p(f,c){c&15&&(r=f[2],s=_e(s,c,i,1,f,r,t,e,me,we,null,ge))},d(f){f&&_(e);for(let c=0;c<s.length;c+=1)s[c].d();o=!1,n()}}}function ke(a){let e,s,t,l,o,n;function r(m,d){if(m[12].name)return pt;if(m[12].name==="")return $t}let i=r(a),f=i&&i(a),c=a[3][a[12].id]&&be(a);function u(){return a[5](a[12])}return{c(){e=D("div"),s=D("div"),f&&f.c(),t=N(),c&&c.c(),l=N(),this.h()},l(m){e=k(m,"DIV",{style:!0,class:!0});var d=b(e);s=k(d,"DIV",{});var j=b(s);f&&f.l(j),t=L(j),c&&c.l(j),j.forEach(_),d.forEach(_),l=L(m),this.h()},h(){R(e,"padding","10px"),v(e,"class","svelte-4bom92"),J(e,"selected",a[12].id===a[1])},m(m,d){h(m,e,d),C(e,s),f&&f.m(s,null),C(s,t),c&&c.m(s,null),h(m,l,d),o||(n=Ge(e,"click",u),o=!0)},p(m,d){a=m,i===(i=r(a))&&f?f.p(a,d):(f&&f.d(1),f=i&&i(a),f&&(f.c(),f.m(s,t))),a[3][a[12].id]?c?c.p(a,d):(c=be(a),c.c(),c.m(s,null)):c&&(c.d(1),c=null),d&6&&J(e,"selected",a[12].id===a[1])},d(m){m&&_(e),f&&f.d(),c&&c.d(),m&&_(l),o=!1,n()}}}function $t(a){let e,s;return{c(){e=D("div"),s=q("(no title)")},l(t){e=k(t,"DIV",{});var l=b(e);s=H(l,"(no title)"),l.forEach(_)},m(t,l){h(t,e,l),C(e,s)},p:G,d(t){t&&_(e)}}}function pt(a){let e,s=a[12].name+"",t;return{c(){e=D("div"),t=q(s),this.h()},l(l){e=k(l,"DIV",{class:!0});var o=b(e);t=H(o,s),o.forEach(_),this.h()},h(){v(e,"class","svelte-4bom92"),J(e,"question-item",a[12].name.charAt(a[12].name.length-1)==="?")},m(l,o){h(l,e,o),C(e,t)},p(l,o){o&4&&s!==(s=l[12].name+"")&&de(t,s),o&4&&J(e,"question-item",l[12].name.charAt(l[12].name.length-1)==="?")},d(l){l&&_(e)}}}function be(a){let e=[],s=new Map,t,l=a[3][a[12].id];const o=n=>"person"+n[15].uid;for(let n=0;n<l.length;n+=1){let r=ve(a,l,n),i=o(r);s.set(i,e[n]=Ie(i,r))}return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=V()},l(n){for(let r=0;r<e.length;r+=1)e[r].l(n);t=V()},m(n,r){for(let i=0;i<e.length;i+=1)e[i].m(n,r);h(n,t,r)},p(n,r){r&12&&(l=n[3][n[12].id],e=_e(e,r,o,1,n,l,s,t.parentNode,me,Ie,t,ve))},d(n){for(let r=0;r<e.length;r+=1)e[r].d(n);n&&_(t)}}}function Ie(a,e){let s,t=e[15].name+"",l;return{key:a,first:null,c(){s=D("div"),l=q(t),this.h()},l(o){s=k(o,"DIV",{style:!0});var n=b(s);l=H(n,t),n.forEach(_),this.h()},h(){R(s,"font-size","0.7rem"),R(s,"margin-left","4px"),this.first=s},m(o,n){h(o,s,n),C(s,l)},p(o,n){e=o,n&12&&t!==(t=e[15].name+"")&&de(l,t)},d(o){o&&_(s)}}}function we(a,e){let s,t,l=e[12].name!==void 0&&ke(e);return{key:a,first:null,c(){s=V(),l&&l.c(),t=V(),this.h()},l(o){s=V(),l&&l.l(o),t=V(),this.h()},h(){this.first=s},m(o,n){h(o,s,n),l&&l.m(o,n),h(o,t,n)},p(o,n){e=o,e[12].name!==void 0?l?l.p(e,n):(l=ke(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(o){o&&_(s),l&&l.d(o),o&&_(t)}}}function gt(a){let e,s=a[2]&&De(a);return{c(){s&&s.c(),e=V()},l(t){s&&s.l(t),e=V()},m(t,l){s&&s.m(t,l),h(t,e,l)},p(t,l){t[2]?s?s.p(t,l):(s=De(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},d(t){s&&s.d(t),t&&_(e)}}}function vt(a){let e,s,t,l,o;e=new ht({props:{classID:a[0],roomID:a[1]}}),t=new mt({props:{$$slots:{default:[gt]},$$scope:{ctx:a}}});const n=a[4].default,r=te(n,a,a[6],null);return{c(){I(e.$$.fragment),s=N(),I(t.$$.fragment),l=N(),r&&r.c()},l(i){w(e.$$.fragment,i),s=L(i),w(t.$$.fragment,i),l=L(i),r&&r.l(i)},m(i,f){y(e,i,f),h(i,s,f),y(t,i,f),h(i,l,f),r&&r.m(i,f),o=!0},p(i,[f]){const c={};f&1&&(c.classID=i[0]),f&2&&(c.roomID=i[1]),e.$set(c);const u={};f&79&&(u.$$scope={dirty:f,ctx:i}),t.$set(u),r&&r.p&&(!o||f&64)&&se(r,n,i,i[6],o?ne(n,i[6],f,null):le(i[6]),null)},i(i){o||(p(e.$$.fragment,i),p(t.$$.fragment,i),p(r,i),o=!0)},o(i){g(e.$$.fragment,i),g(t.$$.fragment,i),g(r,i),o=!1},d(i){E(e,i),i&&_(s),E(t,i),i&&_(l),r&&r.d(i)}}}function Mt({page:a}){return{props:{classID:a.params.class,roomID:a.params.room}}}function Dt(a,e,s){let t;Q(a,S,$=>s(3,t=$));let{$$slots:l={},$$scope:o}=e,{classID:n}=e,{roomID:r}=e,i;re(()=>{for(const $ of u)$();window.removeEventListener("resize",c)}),ae(()=>{window.addEventListener("resize",c),c()});function f(){const{height:$,width:A}=We();Pe.set($),Je.set(A)}function c(){setTimeout(f,100)}let u=[];const m=ce(W(),`classes/${n}/participants`),d=ce(W(),`classes/${n}/rooms`);u.push(ue(d,$=>{const A=[];$.forEach(M=>{A.push(K({id:M.id,ref:M.ref.path},M.data()))}),s(2,i=A)})),u.push(ue(m,$=>{const A=[];$.docChanges().forEach(M=>{const F=M.doc.data(),z=F.currentRoomID;switch(M.type){case"added":t[z]||P(S,t[z]=[],t),t[z].push(F);return;case"modified":for(const U of Object.keys(t))for(const ye of t[U])ye.uid===F.uid&&P(S,t[U]=t[U].filter(Ee=>Ee.uid!==F.uid),t);t[z]||P(S,t[z]=[],t),t[z].push(F);return;case"removed":P(S,t[z]=t[z].filter(U=>U.uid!==F.uid),t)}}),$.forEach(M=>{A.push(K({id:M.id,ref:M.ref.path},M.data()))})}));const j=$=>Ye(`/${n}/${$.id}`);return a.$$set=$=>{"classID"in $&&s(0,n=$.classID),"roomID"in $&&s(1,r=$.roomID),"$$scope"in $&&s(6,o=$.$$scope)},[n,r,i,t,l,j,o]}class Rt extends O{constructor(e){super();T(this,e,Dt,vt,B,{classID:0,roomID:1})}}export{Rt as default,Mt as load};
