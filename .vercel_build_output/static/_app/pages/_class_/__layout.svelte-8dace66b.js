var Me=Object.defineProperty;var Y=Object.getOwnPropertySymbols;var Ce=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var Z=(o,e,n)=>e in o?Me(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,W=(o,e)=>{for(var n in e||(e={}))Ce.call(e,n)&&Z(o,n,e[n]);if(Y)for(var n of Y(e))Re.call(e,n)&&Z(o,n,e[n]);return o};import{S as B,i as P,s as G,V as Ve,a0 as je,j as k,k as R,m as D,n as V,o as b,f as h,x as m,u as d,v as I,d as _,e as w,t as q,c as y,a as E,g as z,a1 as H,K as N,X as Ne,a2 as x,l as C,r as O,w as S,a3 as Le,a4 as ee,L as J,a5 as Ae,a6 as Fe,b as v,D as X,a7 as qe,a8 as ze,a9 as He,G as te,H as se,I as ne,J as le,aa as re,A as ae,ab as oe,ac as ie,ad as Oe,ae as Se,M as Te,O as Q,P as fe,af as Ue,T as ce,ag as ue,ah as Be,ai as _e,aj as Pe,ak as K,al as Ge,h as me,am as $e}from"../../chunks/vendor-2c66186c.js";import{u as de,r as T,c as Je,a as Ke}from"../../chunks/store-addbe31a.js";import{g as We,p as Xe,c as Qe}from"../../chunks/canvas-ec00c90d.js";import{g as Ye}from"../../chunks/navigation-51f4a605.js";import"../../chunks/singletons-12a22614.js";function he(o,e,n){const t=o.slice();return t[4]=e[n],t}function Ze(o){let e,n;return{c(){e=w("h1"),n=q("6.036"),this.h()},l(t){e=y(t,"H1",{style:!0});var s=E(e);n=z(s,"6.036"),s.forEach(_),this.h()},h(){H(e,"color","black"),H(e,"font-weight","400")},m(t,s){h(t,e,s),N(e,n)},d(t){t&&_(e)}}}function xe(o){let e=o[4].name+"",n,t;return{c(){n=q(e),t=R()},l(s){n=z(s,e),t=V(s)},m(s,r){h(s,n,r),h(s,t,r)},p:J,d(s){s&&_(n),s&&_(t)}}}function pe(o){let e,n;return e=new ee({props:{$$slots:{default:[xe]},$$scope:{ctx:o}}}),e.$on("SMUI:action",nt),{c(){k(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,s){b(e,t,s),n=!0},p(t,s){const r={};s&128&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function et(o){let e,n,t=o[1],s=[];for(let l=0;l<t.length;l+=1)s[l]=pe(he(o,t,l));const r=l=>d(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=C()},l(l){for(let a=0;a<s.length;a+=1)s[a].l(l);e=C()},m(l,a){for(let i=0;i<s.length;i+=1)s[i].m(l,a);h(l,e,a),n=!0},p(l,a){if(a&2){t=l[1];let i;for(i=0;i<t.length;i+=1){const c=he(l,t,i);s[i]?(s[i].p(c,a),m(s[i],1)):(s[i]=pe(c),s[i].c(),m(s[i],1),s[i].m(e.parentNode,e))}for(O(),i=t.length;i<s.length;i+=1)r(i);S()}},i(l){if(!n){for(let a=0;a<t.length;a+=1)m(s[a]);n=!0}},o(l){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)d(s[a]);n=!1},d(l){Le(s,l),l&&_(e)}}}function tt(o){let e,n;return e=new x({props:{$$slots:{default:[et]},$$scope:{ctx:o}}}),{c(){k(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,s){b(e,t,s),n=!0},p(t,s){const r={};s&128&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function st(o){let e,n,t,s;e=new Ve({props:{$$slots:{default:[Ze]},$$scope:{ctx:o}}}),e.$on("click",o[2]);let r={style:"left: 100px; top: 50px; width: 300px",$$slots:{default:[tt]},$$scope:{ctx:o}};return t=new je({props:r}),o[3](t),{c(){k(e.$$.fragment),n=R(),k(t.$$.fragment)},l(l){D(e.$$.fragment,l),n=V(l),D(t.$$.fragment,l)},m(l,a){b(e,l,a),h(l,n,a),b(t,l,a),s=!0},p(l,[a]){const i={};a&128&&(i.$$scope={dirty:a,ctx:l}),e.$set(i);const c={};a&128&&(c.$$scope={dirty:a,ctx:l}),t.$set(c)},i(l){s||(m(e.$$.fragment,l),m(t.$$.fragment,l),s=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),s=!1},d(l){I(e,l),l&&_(n),o[3](null),I(t,l)}}}const nt=()=>{};function lt(o,e,n){let t=[{name:"6.006"},{name:"6.036"}],s;const r=()=>s.setOpen(!0);function l(a){Ne[a?"unshift":"push"](()=>{s=a,n(0,s)})}return[s,t,r,l]}class rt extends B{constructor(e){super();P(this,e,lt,st,G,{})}}function at(o){let e;return{c(){e=w("div"),this.h()},l(n){e=y(n,"DIV",{id:!0,class:!0});var t=E(e);t.forEach(_),this.h()},h(){v(e,"id","sign-up-area"),v(e,"class","svelte-f4hgt4")},m(n,t){h(n,e,t)},i:J,o:J,d(n){n&&_(e)}}}function ot(o){let e,n;return e=new rt({}),{c(){k(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,s){b(e,t,s),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function it(o){let e,n,t,s,r,l,a;const i=[ot,at],c=[];function u(f,$){return f[0]?0:1}return r=u(o),l=c[r]=i[r](o),{c(){e=w("div"),n=w("img"),s=R(),l.c(),this.h()},l(f){e=y(f,"DIV",{style:!0,class:!0});var $=E(e);n=y($,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),s=V($),l.l($),$.forEach(_),this.h()},h(){He(n.src,t="/logo.png")||v(n,"src",t),v(n,"width","55"),v(n,"height","50"),v(n,"alt","web-logo"),v(n,"class","svelte-f4hgt4"),H(e,"display","flex"),H(e,"align-items","center"),v(e,"class","svelte-f4hgt4")},m(f,$){h(f,e,$),N(e,n),N(e,s),c[r].m(e,null),a=!0},p(f,$){let g=r;r=u(f),r!==g&&(O(),d(c[g],1,1,()=>{c[g]=null}),S(),l=c[r],l||(l=c[r]=i[r](f),l.c()),m(l,1),l.m(e,null))},i(f){a||(m(l),a=!0)},o(f){d(l),a=!1},d(f){f&&_(e),c[r].d()}}}function ft(o){let e;const n=o[1].default,t=te(n,o,o[2],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,r){t&&t.m(s,r),e=!0},p(s,r){t&&t.p&&(!e||r&4)&&se(t,n,s,s[2],e?le(n,s[2],r,null):ne(s[2]),null)},i(s){e||(m(t,s),e=!0)},o(s){d(t,s),e=!1},d(s){t&&t.d(s)}}}function ct(o){let e,n,t,s,r;return n=new ze({props:{padded:!0,$$slots:{default:[it]},$$scope:{ctx:o}}}),s=new x({props:{$$slots:{default:[ft]},$$scope:{ctx:o}}}),{c(){e=w("div"),k(n.$$.fragment),t=R(),k(s.$$.fragment),this.h()},l(l){e=y(l,"DIV",{class:!0});var a=E(e);D(n.$$.fragment,a),a.forEach(_),t=V(l),D(s.$$.fragment,l),this.h()},h(){v(e,"class","card-container svelte-f4hgt4")},m(l,a){h(l,e,a),b(n,e,null),h(l,t,a),b(s,l,a),r=!0},p(l,a){const i={};a&5&&(i.$$scope={dirty:a,ctx:l}),n.$set(i);const c={};a&4&&(c.$$scope={dirty:a,ctx:l}),s.$set(c)},i(l){r||(m(n.$$.fragment,l),m(s.$$.fragment,l),r=!0)},o(l){d(n.$$.fragment,l),d(s.$$.fragment,l),r=!1},d(l){l&&_(e),I(n),l&&_(t),I(s,l)}}}function ut(o){let e,n;return e=new qe({props:{$$slots:{default:[ct]},$$scope:{ctx:o}}}),{c(){k(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,s){b(e,t,s),n=!0},p(t,s){const r={};s&5&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function _t(o){let e,n;return{c(){e=w("main"),n=w("div"),this.h()},l(t){e=y(t,"MAIN",{class:!0});var s=E(e);n=y(s,"DIV",{id:!0,style:!0,class:!0});var r=E(n);r.forEach(_),s.forEach(_),this.h()},h(){v(n,"id","main-content"),H(n,"height","100vh"),v(n,"class","svelte-f4hgt4"),v(e,"class","main-content svelte-f4hgt4")},m(t,s){h(t,e,s),N(e,n)},d(t){t&&_(e)}}}function mt(o){let e,n,t,s,r;return n=new Ae({props:{$$slots:{default:[ut]},$$scope:{ctx:o}}}),s=new Fe({props:{class:"app-content",$$slots:{default:[_t]},$$scope:{ctx:o}}}),{c(){e=w("div"),k(n.$$.fragment),t=R(),k(s.$$.fragment),this.h()},l(l){e=y(l,"DIV",{class:!0});var a=E(e);D(n.$$.fragment,a),t=V(a),D(s.$$.fragment,a),a.forEach(_),this.h()},h(){v(e,"class","drawer-container svelte-f4hgt4")},m(l,a){h(l,e,a),b(n,e,null),N(e,t),b(s,e,null),r=!0},p(l,[a]){const i={};a&5&&(i.$$scope={dirty:a,ctx:l}),n.$set(i);const c={};a&4&&(c.$$scope={dirty:a,ctx:l}),s.$set(c)},i(l){r||(m(n.$$.fragment,l),m(s.$$.fragment,l),r=!0)},o(l){d(n.$$.fragment,l),d(s.$$.fragment,l),r=!1},d(l){l&&_(e),I(n),I(s)}}}function $t(o,e,n){let t;X(o,de,l=>n(0,t=l));let{$$slots:s={},$$scope:r}=e;return o.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[t,s,r]}class dt extends B{constructor(e){super();P(this,e,$t,mt,G,{})}}function ht(o,e,n){let t;X(o,de,g=>n(4,t=g));let{classID:s}=e,{roomID:r}=e,l,a,i,c,u,f,$=`Beaver ${Math.floor(Math.random()*(999-100+1)+100)}`;return re(()=>{u&&u(),f&&Ue(a),c&&c.cancel()}),ae(()=>{i=oe(ie(),".info/connected"),u=Oe(i,async g=>{if(g.val()===!0){const U=We();l=oe(ie(),`/class/${s}/room/${r}/participants/${U}`),c=Se(l),c.set({hasDisconnected:!0,userUID:t.uid}),n(2,a=Te(Q(),`classes/${s}/participants/${U}`)),fe(a,{uid:t.uid,currentRoomID:r,name:$}),n(3,f=!0)}})}),o.$$set=g=>{"classID"in g&&n(0,s=g.classID),"roomID"in g&&n(1,r=g.roomID)},o.$$.update=()=>{o.$$.dirty&30&&f&&(console.log("roomID changed =",r),fe(a,{uid:t.uid,currentRoomID:r,name:$}))},[s,r,a,f,t]}class pt extends B{constructor(e){super();P(this,e,ht,null,G,{classID:0,roomID:1})}}function ge(o,e,n){const t=o.slice();return t[12]=e[n],t}function ve(o,e,n){const t=o.slice();return t[15]=e[n],t}function ke(o){let e,n=[],t=new Map,s,r,l,a,i=o[2];const c=u=>"room"+u[12].id;for(let u=0;u<i.length;u+=1){let f=ge(o,i,u),$=c(f);t.set($,n[u]=we($,f))}return{c(){e=w("div");for(let u=0;u<n.length;u+=1)n[u].c()},l(u){e=y(u,"DIV",{});var f=E(e);for(let $=0;$<n.length;$+=1)n[$].l(f);f.forEach(_)},m(u,f){h(u,e,f);for(let $=0;$<n.length;$+=1)n[$].m(e,null);r=!0,l||(a=Be(s=Xe.call(null,e,"side-drawer-list")),l=!0)},p(u,f){f&15&&(i=u[2],O(),n=_e(n,f,c,1,u,i,t,e,Pe,we,null,ge),S())},i(u){if(!r){for(let f=0;f<i.length;f+=1)m(n[f]);r=!0}},o(u){for(let f=0;f<n.length;f+=1)d(n[f]);r=!1},d(u){u&&_(e);for(let f=0;f<n.length;f+=1)n[f].d();l=!1,a()}}}function De(o){let e,n;function t(){return o[5](o[12])}return e=new ee({props:{selected:o[12].id===o[1],$$slots:{default:[kt]},$$scope:{ctx:o}}}),e.$on("click",t),{c(){k(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,r){b(e,s,r),n=!0},p(s,r){o=s;const l={};r&6&&(l.selected=o[12].id===o[1]),r&76&&(l.$$scope={dirty:r,ctx:o}),e.$set(l)},i(s){n||(m(e.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),n=!1},d(s){I(e,s)}}}function gt(o){let e,n;return{c(){e=w("div"),n=q("(no title)")},l(t){e=y(t,"DIV",{});var s=E(e);n=z(s,"(no title)"),s.forEach(_)},m(t,s){h(t,e,s),N(e,n)},p:J,d(t){t&&_(e)}}}function vt(o){let e,n=o[12].name+"",t;return{c(){e=w("div"),t=q(n),this.h()},l(s){e=y(s,"DIV",{class:!0});var r=E(e);t=z(r,n),r.forEach(_),this.h()},h(){v(e,"class","svelte-t9y9x2"),$e(e,"question-item",o[12].name.charAt(o[12].name.length-1)==="?")},m(s,r){h(s,e,r),N(e,t)},p(s,r){r&4&&n!==(n=s[12].name+"")&&me(t,n),r&4&&$e(e,"question-item",s[12].name.charAt(s[12].name.length-1)==="?")},d(s){s&&_(e)}}}function be(o){let e=[],n=new Map,t,s=o[3][o[12].id];const r=l=>"person"+l[15].uid;for(let l=0;l<s.length;l+=1){let a=ve(o,s,l),i=r(a);n.set(i,e[l]=Ie(i,a))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=C()},l(l){for(let a=0;a<e.length;a+=1)e[a].l(l);t=C()},m(l,a){for(let i=0;i<e.length;i+=1)e[i].m(l,a);h(l,t,a)},p(l,a){a&12&&(s=l[3][l[12].id],e=_e(e,a,r,1,l,s,n,t.parentNode,Ge,Ie,t,ve))},d(l){for(let a=0;a<e.length;a+=1)e[a].d(l);l&&_(t)}}}function Ie(o,e){let n,t=e[15].name+"",s;return{key:o,first:null,c(){n=w("div"),s=q(t),this.h()},l(r){n=y(r,"DIV",{});var l=E(n);s=z(l,t),l.forEach(_),this.h()},h(){this.first=n},m(r,l){h(r,n,l),N(n,s)},p(r,l){e=r,l&12&&t!==(t=e[15].name+"")&&me(s,t)},d(r){r&&_(n)}}}function kt(o){let e,n;function t(a,i){if(a[12].name)return vt;if(a[12].name==="")return gt}let s=t(o),r=s&&s(o),l=o[3][o[12].id]&&be(o);return{c(){r&&r.c(),e=R(),l&&l.c(),n=R()},l(a){r&&r.l(a),e=V(a),l&&l.l(a),n=V(a)},m(a,i){r&&r.m(a,i),h(a,e,i),l&&l.m(a,i),h(a,n,i)},p(a,i){s===(s=t(a))&&r?r.p(a,i):(r&&r.d(1),r=s&&s(a),r&&(r.c(),r.m(e.parentNode,e))),a[3][a[12].id]?l?l.p(a,i):(l=be(a),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(a){r&&r.d(a),a&&_(e),l&&l.d(a),a&&_(n)}}}function we(o,e){let n,t,s,r=e[12].name!==void 0&&De(e);return{key:o,first:null,c(){n=C(),r&&r.c(),t=C(),this.h()},l(l){n=C(),r&&r.l(l),t=C(),this.h()},h(){this.first=n},m(l,a){h(l,n,a),r&&r.m(l,a),h(l,t,a),s=!0},p(l,a){e=l,e[12].name!==void 0?r?(r.p(e,a),a&4&&m(r,1)):(r=De(e),r.c(),m(r,1),r.m(t.parentNode,t)):r&&(O(),d(r,1,1,()=>{r=null}),S())},i(l){s||(m(r),s=!0)},o(l){d(r),s=!1},d(l){l&&_(n),r&&r.d(l),l&&_(t)}}}function Dt(o){let e,n,t=o[2]&&ke(o);return{c(){t&&t.c(),e=C()},l(s){t&&t.l(s),e=C()},m(s,r){t&&t.m(s,r),h(s,e,r),n=!0},p(s,r){s[2]?t?(t.p(s,r),r&4&&m(t,1)):(t=ke(s),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(O(),d(t,1,1,()=>{t=null}),S())},i(s){n||(m(t),n=!0)},o(s){d(t),n=!1},d(s){t&&t.d(s),s&&_(e)}}}function bt(o){let e,n,t,s,r;e=new pt({props:{classID:o[0],roomID:o[1]}}),t=new dt({props:{$$slots:{default:[Dt]},$$scope:{ctx:o}}});const l=o[4].default,a=te(l,o,o[6],null);return{c(){k(e.$$.fragment),n=R(),k(t.$$.fragment),s=R(),a&&a.c()},l(i){D(e.$$.fragment,i),n=V(i),D(t.$$.fragment,i),s=V(i),a&&a.l(i)},m(i,c){b(e,i,c),h(i,n,c),b(t,i,c),h(i,s,c),a&&a.m(i,c),r=!0},p(i,[c]){const u={};c&1&&(u.classID=i[0]),c&2&&(u.roomID=i[1]),e.$set(u);const f={};c&79&&(f.$$scope={dirty:c,ctx:i}),t.$set(f),a&&a.p&&(!r||c&64)&&se(a,l,i,i[6],r?le(l,i[6],c,null):ne(i[6]),null)},i(i){r||(m(e.$$.fragment,i),m(t.$$.fragment,i),m(a,i),r=!0)},o(i){d(e.$$.fragment,i),d(t.$$.fragment,i),d(a,i),r=!1},d(i){I(e,i),i&&_(n),I(t,i),i&&_(s),a&&a.d(i)}}}function Vt({page:o}){return{props:{classID:o.params.class,roomID:o.params.room}}}function It(o,e,n){let t;X(o,T,p=>n(3,t=p));let{$$slots:s={},$$scope:r}=e,{classID:l}=e,{roomID:a}=e,i;re(()=>{for(const p of f)p();window.removeEventListener("resize",u)}),ae(()=>{window.addEventListener("resize",u),u()});function c(){const{height:p,width:L}=Qe();Je.set(p),Ke.set(L)}function u(){setTimeout(c,100)}let f=[];const $=ce(Q(),`classes/${l}/participants`),g=ce(Q(),`classes/${l}/rooms`);f.push(ue(g,p=>{const L=[];p.forEach(M=>{L.push(W({id:M.id,ref:M.ref.path},M.data()))}),n(2,i=L)})),f.push(ue($,p=>{const L=[];p.docChanges().forEach(M=>{const A=M.doc.data(),j=A.currentRoomID;switch(M.type){case"added":t[j]||K(T,t[j]=[],t),t[j].push(A);return;case"modified":for(const F of Object.keys(t))for(const ye of t[F])ye.uid===A.uid&&K(T,t[F]=t[F].filter(Ee=>Ee.uid!==A.uid),t);t[j]||K(T,t[j]=[],t),t[j].push(A);return;case"removed":K(T,t[j]=t[j].filter(F=>F.uid!==A.uid),t)}}),p.forEach(M=>{L.push(W({id:M.id,ref:M.ref.path},M.data()))})}));const U=p=>Ye(`/${l}/${p.id}`);return o.$$set=p=>{"classID"in p&&n(0,l=p.classID),"roomID"in p&&n(1,a=p.roomID),"$$scope"in p&&n(6,r=p.$$scope)},[l,a,i,t,s,U,r]}class jt extends B{constructor(e){super();P(this,e,It,bt,G,{classID:0,roomID:1})}}export{jt as default,Vt as load};
