var x=Object.defineProperty;var w=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var C=(n,e,s)=>e in n?x(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,R=(n,e)=>{for(var s in e||(e={}))O.call(e,s)&&C(n,s,e[s]);if(w)for(var s of w(e))j.call(e,s)&&C(n,s,e[s]);return n};import{D as z,E as B,S as M,i as Q,s as G,l as D,f as S,u as d,w as H,x as _,d as h,F as b,A as K,r as T,G as V,H as L,I as P,J as X,K as Y,L as $,e as q,t as J,c as Z,a as U,g as W,M as m,N as ee,O as g,P as A,Q as I,R as y,T as se,_ as te,V as ae}from"../chunks/vendor-6d8cc87b.js";import{u as f,h as E}from"../chunks/store-48614d01.js";import{g as ne}from"../chunks/navigation-51f4a605.js";import"../chunks/singletons-12a22614.js";function oe(){return z({apiKey:"AIzaSyB7XsbhYEd_4DQigc_hfnmdpcwlvzugPOw",databaseURL:"https://feynman-mvp.firebaseio.com",authDomain:"feynman-mvp.firebaseapp.com",projectId:"feynman-mvp",storageBucket:"feynman-mvp.appspot.com",messagingSenderId:"148720897081",appId:"1:148720897081:web:fdf5c605dcc74b56",measurementId:"G-DR4M7QGV7Z"})}const ie=()=>{const n=B("__svelte__");return{page:{subscribe:n.page.subscribe},navigating:{subscribe:n.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:n.navigating.subscribe}},session:n.session}},re={subscribe(n){return ie().page.subscribe(n)}};function ce(n){let e;const s=n[2].default,a=P(s,n,n[1],null);return{c(){a&&a.c()},l(o){a&&a.l(o)},m(o,i){a&&a.m(o,i),e=!0},p(o,i){a&&a.p&&(!e||i&2)&&X(a,s,o,o[1],e?$(s,o[1],i,null):Y(o[1]),null)},i(o){e||(_(a,o),e=!0)},o(o){d(a,o),e=!1},d(o){a&&a.d(o)}}}function le(n){let e,s;return{c(){e=q("h4"),s=J("Fetching your info..."),this.h()},l(a){e=Z(a,"H4",{style:!0});var o=U(e);s=W(o,"Fetching your info..."),o.forEach(h),this.h()},h(){m(e,"margin-left","16px"),m(e,"font-family","Roboto, sans-serif"),m(e,"opacity","70%"),m(e,"font-weight","400")},m(a,o){S(a,e,o),ee(e,s)},p:g,i:g,o:g,d(a){a&&h(e)}}}function ue(n){let e,s,a,o;const i=[le,ce],r=[];function u(t,c){return t[0]?1:0}return e=u(n),s=r[e]=i[e](n),{c(){s.c(),a=D()},l(t){s.l(t),a=D()},m(t,c){r[e].m(t,c),S(t,a,c),o=!0},p(t,[c]){let l=e;e=u(t),e===l?r[e].p(t,c):(T(),d(r[l],1,1,()=>{r[l]=null}),H(),s=r[e],s?s.p(t,c):(s=r[e]=i[e](t),s.c()),_(s,1),s.m(a.parentNode,a))},i(t){o||(_(s),o=!0)},o(t){d(s),o=!1},d(t){r[e].d(t),t&&h(a)}}}function pe(n,e,s){let a,o,i;b(n,f,t=>s(3,a=t)),b(n,re,t=>s(4,o=t)),b(n,E,t=>s(0,i=t));let{$$slots:r={},$$scope:u}=e;return K(async()=>{oe(),V(L(),async t=>{if(t){f.set({phoneNumber:t.phoneNumber||"",uid:t.uid,pencilColors:[]});const c="O00mSbBEYQxTnv3cKkbe",l=A(I(),"users/"+t.uid);let p=await y(l);if(!p.exists()){const v=A(I(),"metadata/78tDSRCiMHGnf8zcXkQt"),F=await y(v),N={id:c,name:"8.01",description:"Classical Mechanics"};await se(l,{name:`Beaver #${F.data().numOfUsers}`,uid:t.uid,phoneNumber:t.phoneNumber||"",enrolledClasses:[N],mostRecentClassAndRoomID:`/${c}/${c}`,pencilColors:["white","#F69637","#A9F8BD","#6EE2EA"],willReceiveText:!!t.phoneNumber}),te(v,{numOfUsers:ae(1)}),p=await y(l)}f.set(R({id:p.id},p.data()));const{params:k}=o;!k.class&&!k.room&&ne(a.mostRecentClassAndRoomID)}else f.set({});E.set(!0)})}),n.$$set=t=>{"$$scope"in t&&s(1,u=t.$$scope)},[i,u,r]}class be extends M{constructor(e){super();Q(this,e,pe,ue,G,{})}}export{be as default};
